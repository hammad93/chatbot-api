{"filter":false,"title":"relay.py","tooltip":"/relay.py","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":42,"column":14},"end":{"row":42,"column":15},"action":"insert","lines":["t"],"id":1882}],[{"start":{"row":42,"column":15},"end":{"row":42,"column":16},"action":"insert","lines":["a"],"id":1883}],[{"start":{"row":42,"column":16},"end":{"row":42,"column":17},"action":"insert","lines":["m"],"id":1884}],[{"start":{"row":42,"column":17},"end":{"row":42,"column":18},"action":"insert","lines":["p"],"id":1885}],[{"start":{"row":42,"column":19},"end":{"row":42,"column":20},"action":"insert","lines":[" "],"id":1886}],[{"start":{"row":42,"column":20},"end":{"row":42,"column":21},"action":"insert","lines":[":"],"id":1887}],[{"start":{"row":42,"column":21},"end":{"row":42,"column":22},"action":"insert","lines":[" "],"id":1888}],[{"start":{"row":42,"column":22},"end":{"row":42,"column":23},"action":"insert","lines":["u"],"id":1889}],[{"start":{"row":42,"column":22},"end":{"row":42,"column":23},"action":"remove","lines":["u"],"id":1890}],[{"start":{"row":42,"column":22},"end":{"row":42,"column":54},"action":"insert","lines":["str(datetime.datetime.utcnow()),"],"id":1891}],[{"start":{"row":42,"column":54},"end":{"row":43,"column":0},"action":"insert","lines":["",""],"id":1892},{"start":{"row":43,"column":0},"end":{"row":43,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":43,"column":8},"end":{"row":43,"column":10},"action":"insert","lines":["''"],"id":1893}],[{"start":{"row":43,"column":9},"end":{"row":43,"column":10},"action":"insert","lines":["t"],"id":1894}],[{"start":{"row":43,"column":10},"end":{"row":43,"column":11},"action":"insert","lines":["o"],"id":1895}],[{"start":{"row":43,"column":12},"end":{"row":43,"column":13},"action":"insert","lines":[" "],"id":1896}],[{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"insert","lines":["L"],"id":1897}],[{"start":{"row":43,"column":14},"end":{"row":43,"column":15},"action":"insert","lines":[" "],"id":1898}],[{"start":{"row":43,"column":14},"end":{"row":43,"column":15},"action":"remove","lines":[" "],"id":1899}],[{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"remove","lines":["L"],"id":1900}],[{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"insert","lines":[":"],"id":1901}],[{"start":{"row":43,"column":14},"end":{"row":43,"column":15},"action":"insert","lines":[" "],"id":1902}],[{"start":{"row":43,"column":15},"end":{"row":43,"column":16},"action":"insert","lines":["a"],"id":1903}],[{"start":{"row":43,"column":16},"end":{"row":43,"column":17},"action":"insert","lines":["t"],"id":1904}],[{"start":{"row":43,"column":16},"end":{"row":43,"column":17},"action":"remove","lines":["t"],"id":1905}],[{"start":{"row":43,"column":15},"end":{"row":43,"column":16},"action":"remove","lines":["a"],"id":1906}],[{"start":{"row":43,"column":15},"end":{"row":43,"column":16},"action":"insert","lines":["d"],"id":1907}],[{"start":{"row":43,"column":16},"end":{"row":43,"column":17},"action":"insert","lines":["a"],"id":1908}],[{"start":{"row":43,"column":17},"end":{"row":43,"column":18},"action":"insert","lines":["t"],"id":1909}],[{"start":{"row":43,"column":18},"end":{"row":43,"column":19},"action":"insert","lines":["a"],"id":1910}],[{"start":{"row":43,"column":19},"end":{"row":43,"column":21},"action":"insert","lines":["[]"],"id":1911}],[{"start":{"row":43,"column":20},"end":{"row":43,"column":22},"action":"insert","lines":["''"],"id":1912}],[{"start":{"row":43,"column":21},"end":{"row":43,"column":22},"action":"insert","lines":["f"],"id":1913}],[{"start":{"row":43,"column":22},"end":{"row":43,"column":23},"action":"insert","lines":["r"],"id":1914}],[{"start":{"row":43,"column":23},"end":{"row":43,"column":24},"action":"insert","lines":["o"],"id":1915}],[{"start":{"row":43,"column":24},"end":{"row":43,"column":25},"action":"insert","lines":["m"],"id":1916}],[{"start":{"row":43,"column":27},"end":{"row":43,"column":28},"action":"insert","lines":[","],"id":1917}],[{"start":{"row":43,"column":28},"end":{"row":44,"column":0},"action":"insert","lines":["",""],"id":1918},{"start":{"row":44,"column":0},"end":{"row":44,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":44,"column":8},"end":{"row":44,"column":10},"action":"insert","lines":["''"],"id":1919}],[{"start":{"row":44,"column":9},"end":{"row":44,"column":10},"action":"insert","lines":["f"],"id":1920}],[{"start":{"row":44,"column":10},"end":{"row":44,"column":11},"action":"insert","lines":["r"],"id":1921}],[{"start":{"row":44,"column":11},"end":{"row":44,"column":12},"action":"insert","lines":["o"],"id":1922}],[{"start":{"row":44,"column":12},"end":{"row":44,"column":13},"action":"insert","lines":["m"],"id":1923}],[{"start":{"row":44,"column":14},"end":{"row":44,"column":15},"action":"insert","lines":[" "],"id":1924}],[{"start":{"row":44,"column":15},"end":{"row":44,"column":16},"action":"insert","lines":[":"],"id":1925},{"start":{"row":44,"column":16},"end":{"row":44,"column":17},"action":"insert","lines":["L"]}],[{"start":{"row":44,"column":16},"end":{"row":44,"column":17},"action":"remove","lines":["L"],"id":1926}],[{"start":{"row":44,"column":16},"end":{"row":44,"column":17},"action":"insert","lines":[" "],"id":1927}],[{"start":{"row":44,"column":17},"end":{"row":44,"column":18},"action":"insert","lines":["d"],"id":1928}],[{"start":{"row":44,"column":18},"end":{"row":44,"column":19},"action":"insert","lines":["a"],"id":1929}],[{"start":{"row":44,"column":19},"end":{"row":44,"column":20},"action":"insert","lines":["t"],"id":1930}],[{"start":{"row":44,"column":20},"end":{"row":44,"column":21},"action":"insert","lines":["a"],"id":1931}],[{"start":{"row":44,"column":21},"end":{"row":44,"column":23},"action":"insert","lines":["[]"],"id":1932}],[{"start":{"row":44,"column":22},"end":{"row":44,"column":24},"action":"insert","lines":["''"],"id":1933}],[{"start":{"row":44,"column":23},"end":{"row":44,"column":24},"action":"insert","lines":["t"],"id":1934}],[{"start":{"row":44,"column":24},"end":{"row":44,"column":25},"action":"insert","lines":["o"],"id":1935}],[{"start":{"row":44,"column":27},"end":{"row":44,"column":28},"action":"insert","lines":[","],"id":1936}],[{"start":{"row":49,"column":25},"end":{"row":50,"column":0},"action":"insert","lines":["",""],"id":1937},{"start":{"row":50,"column":0},"end":{"row":50,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":50,"column":4},"end":{"row":50,"column":5},"action":"insert","lines":["p"],"id":1938}],[{"start":{"row":50,"column":5},"end":{"row":50,"column":6},"action":"insert","lines":["u"],"id":1939}],[{"start":{"row":50,"column":6},"end":{"row":50,"column":7},"action":"insert","lines":["t"],"id":1940}],[{"start":{"row":50,"column":7},"end":{"row":50,"column":8},"action":"insert","lines":["."],"id":1941}],[{"start":{"row":50,"column":8},"end":{"row":50,"column":9},"action":"insert","lines":["m"],"id":1942}],[{"start":{"row":50,"column":9},"end":{"row":50,"column":10},"action":"insert","lines":["e"],"id":1943}],[{"start":{"row":50,"column":10},"end":{"row":50,"column":11},"action":"insert","lines":["s"],"id":1944}],[{"start":{"row":50,"column":11},"end":{"row":50,"column":12},"action":"insert","lines":["s"],"id":1945}],[{"start":{"row":50,"column":12},"end":{"row":50,"column":13},"action":"insert","lines":["a"],"id":1946}],[{"start":{"row":50,"column":13},"end":{"row":50,"column":14},"action":"insert","lines":["g"],"id":1947}],[{"start":{"row":50,"column":14},"end":{"row":50,"column":15},"action":"insert","lines":["e"],"id":1948}],[{"start":{"row":50,"column":15},"end":{"row":50,"column":17},"action":"insert","lines":["()"],"id":1949}],[{"start":{"row":50,"column":16},"end":{"row":50,"column":17},"action":"insert","lines":["d"],"id":1950}],[{"start":{"row":50,"column":17},"end":{"row":50,"column":18},"action":"insert","lines":["a"],"id":1951}],[{"start":{"row":50,"column":18},"end":{"row":50,"column":19},"action":"insert","lines":["t"],"id":1952}],[{"start":{"row":50,"column":19},"end":{"row":50,"column":20},"action":"insert","lines":["a"],"id":1953}],[{"start":{"row":50,"column":21},"end":{"row":51,"column":0},"action":"insert","lines":["",""],"id":1954},{"start":{"row":51,"column":0},"end":{"row":51,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":51,"column":4},"end":{"row":51,"column":5},"action":"insert","lines":["p"],"id":1955}],[{"start":{"row":51,"column":5},"end":{"row":51,"column":6},"action":"insert","lines":["y"],"id":1956}],[{"start":{"row":51,"column":6},"end":{"row":51,"column":7},"action":"insert","lines":["t"],"id":1957}],[{"start":{"row":51,"column":6},"end":{"row":51,"column":7},"action":"remove","lines":["t"],"id":1958}],[{"start":{"row":51,"column":5},"end":{"row":51,"column":6},"action":"remove","lines":["y"],"id":1959}],[{"start":{"row":51,"column":5},"end":{"row":51,"column":6},"action":"insert","lines":["u"],"id":1960}],[{"start":{"row":51,"column":6},"end":{"row":51,"column":7},"action":"insert","lines":["t"],"id":1961}],[{"start":{"row":51,"column":7},"end":{"row":51,"column":8},"action":"insert","lines":["."],"id":1962}],[{"start":{"row":51,"column":8},"end":{"row":51,"column":9},"action":"insert","lines":["e"],"id":1963}],[{"start":{"row":51,"column":8},"end":{"row":51,"column":9},"action":"remove","lines":["e"],"id":1964}],[{"start":{"row":51,"column":8},"end":{"row":51,"column":9},"action":"insert","lines":["m"],"id":1965}],[{"start":{"row":51,"column":9},"end":{"row":51,"column":10},"action":"insert","lines":["e"],"id":1966}],[{"start":{"row":51,"column":10},"end":{"row":51,"column":11},"action":"insert","lines":["s"],"id":1967}],[{"start":{"row":51,"column":11},"end":{"row":51,"column":12},"action":"insert","lines":["s"],"id":1968}],[{"start":{"row":51,"column":12},"end":{"row":51,"column":13},"action":"insert","lines":["a"],"id":1969}],[{"start":{"row":51,"column":13},"end":{"row":51,"column":14},"action":"insert","lines":["g"],"id":1970}],[{"start":{"row":51,"column":14},"end":{"row":51,"column":15},"action":"insert","lines":["e"],"id":1971}],[{"start":{"row":51,"column":15},"end":{"row":51,"column":17},"action":"insert","lines":["()"],"id":1972}],[{"start":{"row":51,"column":16},"end":{"row":51,"column":17},"action":"insert","lines":["r"],"id":1973}],[{"start":{"row":51,"column":17},"end":{"row":51,"column":18},"action":"insert","lines":["e"],"id":1974}],[{"start":{"row":51,"column":18},"end":{"row":51,"column":19},"action":"insert","lines":["s"],"id":1975}],[{"start":{"row":51,"column":19},"end":{"row":51,"column":20},"action":"insert","lines":["p"],"id":1976}],[{"start":{"row":51,"column":20},"end":{"row":51,"column":21},"action":"insert","lines":["o"],"id":1977}],[{"start":{"row":51,"column":21},"end":{"row":51,"column":22},"action":"insert","lines":["n"],"id":1978}],[{"start":{"row":51,"column":22},"end":{"row":51,"column":23},"action":"insert","lines":["s"],"id":1979}],[{"start":{"row":51,"column":23},"end":{"row":51,"column":24},"action":"insert","lines":["e"],"id":1980}],[{"start":{"row":51,"column":25},"end":{"row":52,"column":20},"action":"remove","lines":["","    log(data, reply)"],"id":1981}],[{"start":{"row":53,"column":19},"end":{"row":82,"column":25},"action":"remove","lines":["","","'''","PURPOSE: Create a log for the conversations","METHOD: Store a record in the MongoDB with all relevant fields","INPUT: The original message data and the reply from the brain. The following is","the data model for the objects to be stored in the DB:","    - Note, two of these will be stored. one for the user one for the both","    {","        timestamp : DateTime","        to : String","        from : String","        message : String","        arguments : Optional","    }","'''","def log(data) :","    #Send the original message to the MongoDB","    put.message(data)","    ","    #Construct the brain's reply","    document = {","        'timestamp' : str(datetime.datetime.utcnow()),","        'to' : data['from'],","        'from' : data['uuid'],","        'message' : data['message']","    }#No arguments","    ","    #Send brains reply","    put.message(document)"],"id":1982}]]},"ace":{"folds":[],"scrolltop":616,"scrollleft":0,"selection":{"start":{"row":53,"column":19},"end":{"row":53,"column":19},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":33,"state":"qstring3","mode":"ace/mode/python"}},"timestamp":1497007991276,"hash":"9d0d94b4ff09c56340a20086d790e71fa532d779"}